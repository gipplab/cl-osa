The maps that show how France voted and why

At 39, Emmanuel Macron will be sworn in as France's youngest president after a landslide victory over far-right leader Marine Le Pen.
Voters chose a man who had never held elected office but they also backed the National Front in record numbers.
The election left France's decades-old Socialist and Republican political elite reeling, and became a choice between a relative novice from the centre of politics and a populist agenda.
In his victory speech, Mr Macron told his fellow countrymen and women that France had turned a new page and spoke of "hope and renewed trust".
He has promised a new, dynamic France that is both socially and business-friendly. Half of his candidates for next month's parliamentary elections are women, half are from civil society.
So, how did Mr Macron win the race for the presidency?
He swept the board geographically, with Marine Le Pen winning just two of France's 107 departments.
He won the first round well ahead of the other candidates and attracted voters from many of those he had defeated. His opponent's backing remained largely confined to her traditional strongholds in France's north, north-east and south-east.
The two departments won by Ms Le Pen were both in the north. But even here, the vote was very close. She won with 52.9% in Aisne and by a slightly smaller margin in the coastal Pas de Calais region.
Each of France's 107 departments is made up of a number of smaller administrative areas, known as communes.
Emmanuel Macron attracted more than 80% of the vote in more than 1,000 communes across France. By comparison, Ms Le Pen scored more than 80% in just 30 communes, most spread across the north.
Mr Macron scored best in the big cities, including Paris where nine out of 10 voters backed him. It was his strongest area of support. In contrast, Ms Le Pen's biggest support came from the countryside.
The department of Gironde, on the west coast, illustrates this split between voters.
Although Emmanuel Macron won the department with more than 70% of the vote, most of his supporters were concentrated in the city of Bordeaux. Marine Le Pen scored better in the more rural areas.
What does Marine Le Pen do now?
The National Front has traditionally done well in northern France - in places where traditional industries have been on the decline.
Ms Le Pen took Pas de Calais, which includes the port of Calais, with 52.1% of the vote. The town used to be known for its lace-making, but cheap imports have led to the industry's decline. Here, it seems, her promise to put France first struck a chord with voters.
In the south-eastern department of Var, where Toulon elected France's first National Front mayor in 1995, the FN has traditionally scored highly. But Marine Le Pen failed to make the breakthrough she needed in the second round, with Mr Macron taking 50.9% of the vote.
Two of the biggest factors that won the two candidates support were employment and education.
Marine Le Pen won strongest support in areas with high jobless rates and low wages where she campaigned to stop immigration and renegotiate France's relationship with the European Union.
The two departments where she won, Pas de Calais and Aisne, had unemployment rates of 12.2% and 13.8% respectively in the last quarter of 2016 - well above the national rate of 10%.
Meanwhile, Mr Macron is said to have won support among voters with higher levels of educational attainment, which helps to explain why he did so well in Paris.
A 2012 survey by official French statistical agency Insee found that more than half the residents of Ile de France in the 25-34 age bracket had a postgraduate qualification, or were studying for one.
Although Ms Le Pen lost the election, support for the National Front in the first round of voting was up on previous contests. In fact, the party's vote share in the first round has increased in four of the five presidential elections since 1995.
Ms Le Pen will be hoping to build on that support ahead of the country's parliamentary elections in June. Her party currently has only two seats in the 577-seat national assembly, but she is hoping to win up to 15.
Mr Macron, in his victory speech, may well have been looking ahead to his next battle with the FN when he said: "I will fight with all my power against the divisions that undermine us, and which are tearing us apart."